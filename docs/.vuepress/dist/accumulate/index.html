<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端积累 | 月下独酌</title>
    <meta name="description" content="Welcome to my personal site">
    
    
    <link rel="preload" href="/assets/css/0.styles.6aaa91c1.css" as="style"><link rel="preload" href="/assets/js/app.62e32283.js" as="script"><link rel="preload" href="/assets/js/4.8adf341f.js" as="script"><link rel="prefetch" href="/assets/js/10.94da10b1.js"><link rel="prefetch" href="/assets/js/11.0f63abfe.js"><link rel="prefetch" href="/assets/js/12.816a1587.js"><link rel="prefetch" href="/assets/js/13.f83ab349.js"><link rel="prefetch" href="/assets/js/14.5d62c483.js"><link rel="prefetch" href="/assets/js/15.71f4a6cb.js"><link rel="prefetch" href="/assets/js/2.ce1608e6.js"><link rel="prefetch" href="/assets/js/3.7f8423ba.js"><link rel="prefetch" href="/assets/js/5.6df56fdb.js"><link rel="prefetch" href="/assets/js/6.6ce78cbf.js"><link rel="prefetch" href="/assets/js/7.3ef676a3.js"><link rel="prefetch" href="/assets/js/8.6047b5e7.js"><link rel="prefetch" href="/assets/js/9.01e23169.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6aaa91c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="月下独酌" class="logo"> <span class="site-name can-hide">月下独酌</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/accumulate/" aria-current="page" class="nav-link router-link-exact-active router-link-active">知识库</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/js基础.html" class="nav-link">JS基础</a></li><li class="dropdown-item"><!----> <a href="/interview/HTML.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/interview/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/interview/vue.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/interview/浏览器.html" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/interview/性能.html" class="nav-link">性能</a></li><li class="dropdown-item"><!----> <a href="/interview/HTTP.html" class="nav-link">HTTP</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">作品案例</a></div><div class="nav-item"><a href="/others/" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="/guide.html" class="nav-link">VuePress</a></div><div class="nav-item"><a href="https://github.com/crazynightguichao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/accumulate/" aria-current="page" class="nav-link router-link-exact-active router-link-active">知识库</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/js基础.html" class="nav-link">JS基础</a></li><li class="dropdown-item"><!----> <a href="/interview/HTML.html" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/interview/CSS.html" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/interview/vue.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/interview/浏览器.html" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/interview/性能.html" class="nav-link">性能</a></li><li class="dropdown-item"><!----> <a href="/interview/HTTP.html" class="nav-link">HTTP</a></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">作品案例</a></div><div class="nav-item"><a href="/others/" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="/guide.html" class="nav-link">VuePress</a></div><div class="nav-item"><a href="https://github.com/crazynightguichao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>前端积累</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/accumulate/#一、-vue项目过大nodejs内存溢出" class="sidebar-link">一、 Vue项目过大nodejs内存溢出</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#二、-vue监听浏览器窗口大小发生变化触发的事件" class="sidebar-link">二、 Vue监听浏览器窗口大小发生变化触发的事件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#三、-十万条数据-前端如何优雅渲染到页面上" class="sidebar-link">三、 十万条数据,前端如何优雅渲染到页面上?</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#四、localstorage遇到一个小坑" class="sidebar-link">四、localStorage遇到一个小坑</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#五、-js中-与-的区别" class="sidebar-link">五、 JS中 ?? 与 || 的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#六、获取某一天的n年后的第n天" class="sidebar-link">六、获取某一天的N年后的第N天</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/accumulate/#七、element-ui-修改-el-tooltip-样式" class="sidebar-link">七、element-ui 修改 el-tooltip 样式</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="前端积累"><a href="#前端积累" class="header-anchor">#</a> 前端积累</h1> <h2 id="一、-vue项目过大nodejs内存溢出"><a href="#一、-vue项目过大nodejs内存溢出" class="header-anchor">#</a> 一、 Vue项目过大nodejs内存溢出</h2> <h4 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h4> <p>今天在启动vue项目的时候报了这样一个错误, 如图所示：频繁出现此种情况，项目太大，导致内存溢出，排除代码问题外，可参照以下方式解决。<br> <a href="/images/memoryOut.png">错误截图</a></p> <h4 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 全局安装increase-memory-limit
npm install -g increase-memory-limit
// 进入工程目录，执行：
increase-memory-limit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>没错，就如此简单。</p> <h2 id="二、-vue监听浏览器窗口大小发生变化触发的事件"><a href="#二、-vue监听浏览器窗口大小发生变化触发的事件" class="header-anchor">#</a> 二、 Vue监听浏览器窗口大小发生变化触发的事件</h2> <h4 id="监听浏览器窗口大小发生改变并触发事件在js里有原生事件，但在vue里很多同学不知道应在将此事件写在哪里，下面给大家提供一个完整的案例。"><a href="#监听浏览器窗口大小发生改变并触发事件在js里有原生事件，但在vue里很多同学不知道应在将此事件写在哪里，下面给大家提供一个完整的案例。" class="header-anchor">#</a> 监听浏览器窗口大小发生改变并触发事件在JS里有原生事件，但在vue里很多同学不知道应在将此事件写在哪里，下面给大家提供一个完整的案例。</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;metacharset=&quot;UTF-8&quot;&gt;
		&lt;!-- import CSS --&gt;
		&lt;linkrel=&quot;stylesheet&quot;href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;divid=&quot;app&quot;&gt;
			&lt;el-button @click=&quot;visible = true&quot;&gt;实时屏幕宽度：{{windowWidth}}&lt;/el-button&gt;
			&lt;el-button @click=&quot;visible = true&quot;&gt;实时屏幕高度：{{windowHeight}}&lt;/el-button&gt;
			&lt;el-dialog:visible.sync=&quot;visible&quot;title=&quot;Hello world&quot;&gt;
				&lt;p&gt;Try Element&lt;/p&gt;
			&lt;/el-dialog&gt;

			&lt;divid=&quot;main&quot;style=&quot;width: 100%;height:400px;&quot;&gt;&lt;/div&gt;
			&lt;divid=&quot;main2&quot;style=&quot;width: 100%;height:400px;&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
	&lt;!-- import Vue before Element --&gt;
	&lt;scriptsrc=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;&lt;/script&gt;
	&lt;!-- import JavaScript --&gt;
	&lt;scriptsrc=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;
	&lt;scriptsrc=&quot;https://cdn.bootcdn.net/ajax/libs/echarts/5.0.0-alpha.1/echarts.min.js&quot;&gt;&lt;/script&gt;
	&lt;script&gt;var myChart;
		var myChart2;
		new Vue({
			el: '#app',
			data: function() {
				return {
					visible: false,
					windowWidth: document.documentElement.clientWidth, //实时屏幕宽度
					windowHeight: document.documentElement.clientHeight, //实时屏幕高度
				}
			},
			methods: {
				myEcharts() {
					// 基于准备好的dom，初始化echarts实例// myChart = this.$echarts.init(document.getElementById('main')); //VUE脚手架模块化全局引入echarts时的写法
					myChart = echarts.init(document.getElementById('main')); //引入CDN echarts链接或在VUE脚手架模块化时在当前页面按需导入echarts时的写法
					myChart2 = echarts.init(document.getElementById('main2'));

					// 指定图表的配置项和数据var option = {
						title: {
							text: 'ECharts 入门示例'
						},
						tooltip: {},
						legend: {
							data: ['销量']
						},
						xAxis: {
							data: [&quot;衬衫&quot;, &quot;羊毛衫&quot;, &quot;雪纺衫&quot;, &quot;裤子&quot;, &quot;高跟鞋&quot;, &quot;袜子&quot;]
						},
						yAxis: {},
						series: [{
							name: '销量',
							type: 'bar',
							data: [5, 20, 36, 10, 10, 20]
						}]
					};

					// 使用刚指定的配置项和数据显示图表。
					myChart.setOption(option);
					myChart2.setOption(option);
				}
			},
			mounted() {
				let that = this;
				this.myEcharts();
				window.onresize = () =&gt; {
					return (() =&gt; {
						window.fullHeight = document.documentElement.clientHeight;
						window.fullWidth = document.documentElement.clientWidth;
						that.windowHeight = window.fullHeight; // 高
						that.windowWidth = window.fullWidth; // 宽console.log(&quot;实时屏幕高度：&quot;, that.windowHeight);
						console.log(&quot;实时屏幕宽度：&quot;, that.windowWidth);
						myChart.resize();
						myChart2.resize();
					})()
				};

			}
		})
	&lt;/script&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><h2 id="三、-十万条数据-前端如何优雅渲染到页面上"><a href="#三、-十万条数据-前端如何优雅渲染到页面上" class="header-anchor">#</a> 三、 十万条数据,前端如何优雅渲染到页面上?</h2> <h4 id="面试题-后台传给前端十万条数据-你作为前端如何渲染到页面上"><a href="#面试题-后台传给前端十万条数据-你作为前端如何渲染到页面上" class="header-anchor">#</a> 面试题: 后台传给前端十万条数据,你作为前端如何渲染到页面上?</h4> <ul><li>回答者A：我有句话不知当讲不当讲,这什么鬼需求。</li> <li>回答者B：滚，后端,我不要这样的数据,你就不能分页给我吗。</li> <li>回答C：10万条数据这怎么展示，展示了也看不完啊。</li></ul> <h4 id="分析一下下"><a href="#分析一下下" class="header-anchor">#</a> 分析一下下</h4> <p>面试官既然能这么问，我们从技术的角度出发，探索一下这道题，上手操作了一下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>function loadAll() {
	var html = &quot;&quot;;
	for (var i = 0; i &lt; 100000; i++) {
		html += &quot;&lt;li&gt;title:&quot; + '我正在测试'+[i] + &quot;&lt;/li&gt;&quot;;
	}
	let content = document.getElementById(&quot;content&quot;)
	content.append(html);
}
loadAll();

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">结果</p> <p>浏览器之间加载十万条数据，网页直接崩溃，或者需要加载至少10秒。</p></div> <h4 id="解决方案-2"><a href="#解决方案-2" class="header-anchor">#</a> 解决方案</h4> <p>既然一次渲染10万条数据会造成页面加载速度缓慢，那么我们可以不要一次性渲染这么多数据，而是分批次渲染， 比如一次10000条，分10次来完成， 这样或许会对页面的渲染速度有提升。 然而，如果这13次操作在同一个代码执行流程中运行，那似乎不但无法解决糟糕的页面卡顿问题，反而会将代码复杂化。 类似的问题在其它语言最佳的解决方案是使用多线程，JavaScript虽然没有多线程，但是setTimeout和setInterval两个函数却能起到和多线程差不多的效果。 因此，要解决这个问题， 其中的setTimeout便可以大显身手。 setTimeout函数的功能可以看作是在指定时间之后启动一个新的线程来完成任务。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 分组渲染
var response = [];
var html = &quot;&quot;;
for (var i = 0; i &lt; 100000; i++) {
	html = &quot;&lt;li&gt;title:&quot; + '我正在测试'+[i] + &quot;&lt;/li&gt;&quot;;
	response.push(html)
}
// console.log(response,'response');
function loadAll(response) {
	//将10万条数据分组， 每组500条，一共200组
	var groups = group(response);
	// console.log(groups,'groups');
	for (var i = 0; i &lt; groups.length; i++) {
		//闭包， 保持i值的正确性
		window.setTimeout(function () {
			var group = groups[i];
			var index = i + 1;
			return function () {
				//分批渲染
				loadPart( group, index );
			}
		}(), 1);
	}
}
//数据分组函数（每组500条）
function group(data) {
	var result = [];
	var groupItem;
	for (var i = 0; i &lt; data.length; i++) {
		if (i % 500 == 0) {
			groupItem != null &amp;&amp; result.push(groupItem);
			groupItem = [];
		}
		groupItem.push(data[i]);
		// console.log(groupItem,'groupItem');
	}
	result.push(groupItem);
	return result;
}
var currIndex = 0;
//加载某一批数据的函数
function loadPart( group, index ) {
	// console.log(group,'================');
	var html = &quot;&quot;;
	for (var i = 0; i &lt; group.length; i++) {
		var item = group[i];
		html += item;
	}
	//保证顺序不错乱
	while (index - currIndex == 1) {
		let content = document.getElementById(&quot;content&quot;)
		content.append(html);
		currIndex = index;
	}
}
loadAll(response)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">结果</p> <p>浏览器瞬间渲染出十万条数据。</p></div> <h2 id="四、localstorage遇到一个小坑"><a href="#四、localstorage遇到一个小坑" class="header-anchor">#</a> 四、localStorage遇到一个小坑</h2> <div class="tip custom-block"><p class="custom-block-title">场景</p> <p>设置一个Switch开关，switch 打开时存localStorage值为当前开关的value，用户重新进入页面时，获取当前localStorage值设为开关状态。
但是获取到了localStorage值而Switch却没有生效。一头雾水.....</p></div> <p><strong>仔细一看：</strong> <img src="/images/localTip.png" alt></p> <div class="warning custom-block"><p class="custom-block-title">真相大白</p> <p>打印出来竟然是字符串！！！
怪不得不生效！！！</p></div> <p>因此，把字符串转换为Boolean就可以了。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>JSON.parse('true')   // 返回true
JSON.parse('false')  // 返回false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="五、-js中-与-的区别"><a href="#五、-js中-与-的区别" class="header-anchor">#</a> 五、 JS中 ?? 与 || 的区别</h2> <div class="tip custom-block"><p class="custom-block-title">相同点</p> <p>用法相同：</p> <ul><li>都是前后是值，中间用符号连接。根据前面的值来判断最终返回前面的值还是后面的值。</li></ul></div> <div class="warning custom-block"><p class="custom-block-title">不同点</p> <p>判断方式不同：</p> <ul><li>使用 ?? 时，只有当值1为null或undefined时才返回值2；</li> <li>使用 || 时，值1会转换为布尔值判断，为true返回值1，false 返回值2</li></ul></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- ?? --&gt;
undefined ?? 2	// 2
null ?? 2		// 2
0 ?? 2			// 0
&quot;&quot; ?? 2			// &quot;&quot;
true ?? 2		// true
false ?? 2		// false

&lt;!-- || --&gt;
undefined || 2	// 2
null || 2		// 2
0 || 2			// 2
&quot;&quot; || 2			// 2
true || 2		// true
false || 2		// 2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="总的来说，-更加适合在不知道变量是否有值时使用。"><a href="#总的来说，-更加适合在不知道变量是否有值时使用。" class="header-anchor">#</a> 总的来说，??更加适合在不知道变量是否有值时使用。</h4> <h2 id="六、获取某一天的n年后的第n天"><a href="#六、获取某一天的n年后的第n天" class="header-anchor">#</a> 六、获取某一天的N年后的第N天</h2> <div class="tip custom-block"><p class="custom-block-title">用法</p> <ul><li>输入：this.$getYearDay(2022-03-03,1,1)</li> <li>输出：2023-03-04</li></ul></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>Vue.prototype.$getYearDay = function(value,year,day){  // 获取N年后的第N天
      // value 代表开始日期 year代表几年 day代表几天
      let time = new Date(value);
      let y = time.getFullYear() + year;
      let m = time.getMonth() + 1
      let d = time.getDate();
      //考虑二月份场景，若N年后的二月份日期大于该年的二月份的最后一天，
	  则取该年二月份最后一天
      if(m == '02' || m == 2){
        var monthEndDate = new Date(y ,m,0).getDate();
        if(parseInt(d) &gt; monthEndDate){//为月底时间
          //取两年后的二月份最后一天
          d = monthEndDate;
        }
      }
      let date = y + &quot;-&quot; + m + &quot;-&quot; + d
      let time2 = new Date(date)
      time2.setDate(time2.getDate() + day);//获取Day天后的日期
      var y2 = time2.getFullYear();
      var m2 = time2.getMonth() + 1;//获取当前月份的日期
      var d2 = time2.getDate();
      let date2 = y2 + &quot;-&quot; + m2 + &quot;-&quot; + d2
      return date2;
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="七、element-ui-修改-el-tooltip-样式"><a href="#七、element-ui-修改-el-tooltip-样式" class="header-anchor">#</a> 七、element-ui 修改 el-tooltip 样式</h2> <p><strong>tooltip所在的div位置：</strong></p> <p><img src="/images/tooltipDiv.png" alt></p> <h4 id="解决方案-3"><a href="#解决方案-3" class="header-anchor">#</a> 解决方案</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- 给el-tooltip标签添加popper-class属性 --&gt;
&lt;el-tooltip content=&quot;提示文字&quot; popper-class=&quot;my-tooltip&quot;&gt;&lt;/el-tooltip&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">注意</p> <p>该代码片段，需要写在根文件的style里，如果写在当前文件里也并非不可，但是需要将scope取消掉。</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- 具体样式自行更改 --&gt;
.my-tooltip {
    padding: 2px 3px;
    border-radius: 3px;
    font-size: 10px;
    line-height: 1.6;
    .is-light{
        border: 1px solid #ebeef5;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.62e32283.js" defer></script><script src="/assets/js/4.8adf341f.js" defer></script>
  </body>
</html>
